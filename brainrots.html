<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rdn Store</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial;}
body{background:#000;color:white;}
.top-bar{background:#8b0000;padding:10px;text-align:center;font-weight:bold;}
.header{display:flex;justify-content:space-between;padding:15px;background:#111;border-bottom:2px solid #8b0000;}
.logo{color:#ff2e2e;font-size:22px;font-weight:bold;animation:neon 1.5s infinite alternate;}
@keyframes neon{from{text-shadow:0 0 5px red;}to{text-shadow:0 0 20px red,0 0 40px red;}}
.products{display:grid;grid-template-columns:1fr 1fr;gap:15px;padding:20px;}
.card{background:#111;border:1px solid #8b0000;border-radius:15px;overflow:hidden;position:relative;}
.card img{width:100%;height:140px;object-fit:cover;}
.card-content{padding:15px;}
.price{color:#ff2e2e;font-weight:bold;}
.stock{font-size:12px;margin-top:5px;}
.buy-btn{margin-top:10px;width:100%;padding:8px;background:#8b0000;border:none;color:white;border-radius:8px;cursor:pointer;}
.buy-btn:hover{background:red;}
.sold-out{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);display:flex;justify-content:center;align-items:center;color:red;display:none;}
.cart{position:fixed;right:-350px;top:0;width:300px;height:100%;background:#111;padding:15px;box-shadow:-2px 0 10px rgba(255,0,0,0.5);transition:0.4s ease;overflow-y:auto;z-index:999;}
.cart.active{right:0;}
.cart-header{display:flex;justify-content:space-between;align-items:center;}
.close-btn{background:none;border:none;color:red;font-size:18px;cursor:pointer;}
.pix-btn{width:100%;padding:10px;background:#8b0000;border:none;color:white;border-radius:8px;cursor:pointer;margin-top:10px;transition:0.3s;}
.pix-btn:hover{background:red;}
.voltar-btn{margin-top:10px;width:100%;padding:8px;background:#222;border:1px solid #8b0000;color:white;border-radius:8px;cursor:pointer;}
.voltar-btn:hover{background:#8b0000;}
.cart-item{display:flex;justify-content:space-between;margin-bottom:8px;background:#1a1a1a;padding:5px;border-radius:6px;}
.remove-btn{background:none;border:none;color:red;cursor:pointer;}
#pixArea img{margin:10px auto;display:block;}
#pixArea p{word-break:break-all;font-size:11px;background:#000;padding:8px;border-radius:6px;color:#ccc;}
</style>
</head>

<body>

<div class="top-bar">Rdn Store Oficial üî•</div>

<div class="header">
<div class="logo">Rdn Store</div>
<button onclick="toggleCart()">üõí</button>
</div>

<div class="products" id="products"></div>

<div class="cart" id="cart">
<div class="cart-header">
<h2>Carrinho</h2>
<button class="close-btn" onclick="fecharCarrinho()">‚úñ</button>
</div>

<div id="cartItems"></div>
<h3 id="total">Total: R$0</h3>

<button onclick="finalizarCompra()" class="pix-btn">Pagar com PIX</button>
<button onclick="fecharCarrinho()" class="voltar-btn">‚Üê Continuar comprando</button>

<div id="pixArea" style="display:none;text-align:center;margin-top:15px;">
<h3 style="color:#ff2e2e;">Pagamento PIX</h3>
<img id="qrCode" width="200">
<p id="pixCode"></p>
<button onclick="copiarPix()" class="pix-btn">Copiar PIX</button>
</div>

<p style="margin-top:15px;color:#ff2e2e;">
üî• Compras realizadas: <span id="contador">0</span>
</p>
</div>

<script>
const productsDiv=document.getElementById("products");
let cart=[],total=0,pedidosPendentes=0;

const nomes=[
"Brainrot La Romantic 1,4b",
"fora de stock2",
"fora de stock3",
"fora de stock4",
"fora de stock5",
"fora de stock6",
"fora de stock7",
"fora de stock8",
"fora de stock9",
"fora de stock10"
];

const precos=[55,50,45,40,35,30,28,25,22,20];

for(let i=1;i<=10;i++){

const estoques = [5,3,10,2,8,6,4,7,1,9];
  
if (localStorage.getItem("stock"+i) === null) {
productsDiv.innerHTML+=`
<div class="card">
<div class="sold-out" id="sold${i}">ESGOTADO</div>
<img src="images/brainrot${i}.png">
<div class="card-content">
<div>${nomes[i-1]}</div>
<div class="price">R$${precos[i-1]}</div>
<div class="stock" id="stock${i}"></div>
<button class="buy-btn" onclick="buy(${i})">Comprar</button>
</div>
</div>`;
}

function updateStock(id){
let stock=parseInt(localStorage.getItem("stock"+id));
let el=document.getElementById("stock"+id);
let sold=document.getElementById("sold"+id);

if(stock>0){
el.innerText="Restam "+stock+" unidades";
el.style.color="#00ff88";
sold.style.display="none";
}else{
el.innerText="Produto esgotado";
el.style.color="red";
sold.style.display="flex";
}
}

for(let i=1;i<=10;i++){updateStock(i);}

function buy(id){
let stock=parseInt(localStorage.getItem("stock"+id));
if(stock>0){
stock--;
localStorage.setItem("stock"+id,stock);
updateStock(id);
cart.push(nomes[id-1]);
total+=precos[id-1];
updateCart();
}
}

function updateCart(){
const cartItems=document.getElementById("cartItems");
cartItems.innerHTML="";
cart.forEach((item,index)=>{
cartItems.innerHTML+=`<div class="cart-item">${item}<button class="remove-btn" onclick="removeItem(${index})">üóë</button></div>`;
});
document.getElementById("total").innerText="Total: R$"+total.toFixed(2);
}

function removeItem(index){
total-=precos[nomes.indexOf(cart[index])];
cart.splice(index,1);
updateCart();
}

function toggleCart(){document.getElementById("cart").classList.toggle("active");}
function fecharCarrinho(){document.getElementById("cart").classList.remove("active");}

let contador=localStorage.getItem("contadorCompras")||0;
document.getElementById("contador").innerText=contador;

function finalizarCompra(){
if(cart.length===0){alert("Carrinho vazio!");return;}
let chavePix="81995367131";
let valor=total.toFixed(2);
let payload="PIX-"+valor+"-"+Date.now();
let qrUrl="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data="+encodeURIComponent(payload);
document.getElementById("qrCode").src=qrUrl;
document.getElementById("pixCode").innerText=payload;
document.getElementById("pixArea").style.display="block";
cart=[];total=0;updateCart();
}

function copiarPix(){
navigator.clipboard.writeText(document.getElementById("pixCode").innerText);
alert("PIX copiado!");
}
</script>

</body>
</html>
