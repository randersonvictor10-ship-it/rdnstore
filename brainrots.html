<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rdn Store</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial,sans-serif}
body{background:#000;color:#fff}
.top-bar{background:#8b0000;padding:10px;text-align:center;font-weight:bold;text-transform:uppercase;letter-spacing:1px}
.header{padding:15px;background:#111;border-bottom:2px solid #8b0000;display:flex;align-items:center;justify-content:center}
.logo{color:#ff2e2e;font-size:28px;font-weight:bold;cursor:pointer;text-shadow:0 0 10px red;transition:0.3s}
.logo:hover{transform:scale(1.05)}
.products{display:grid;grid-template-columns:1fr 1fr;gap:18px;padding:20px}
.card{background:#111;border:1px solid #8b0000;border-radius:18px;overflow:hidden;position:relative;transition:0.3s transform,0.3s box-shadow}
.card:hover{transform:scale(1.03);box-shadow:0 0 20px #ff2e2e}
.card img{width:100%;height:150px;object-fit:cover}
.card-content{padding:14px}
.price{color:#ff2e2e;font-weight:bold;margin-top:6px}
.stock{font-size:12px;color:#bbb;margin-top:4px}
.buy-btn{margin-top:10px;width:100%;padding:10px;background:#ff2e2e;border:none;color:#fff;border-radius:10px;font-weight:bold;cursor:pointer;transition:0.3s transform,0.3s background}
.buy-btn:hover{transform:scale(1.05);background:#ff4c4c}
.buy-btn:disabled{opacity:.5;background:#333;cursor:not-allowed}
.sold-out{position:absolute;inset:0;background:rgba(0,0,0,.85);display:flex;align-items:center;justify-content:center;font-size:22px;color:#ff2e2e}

.modal{position:fixed;inset:0;background:rgba(0,0,0,.85);display:none;align-items:center;justify-content:center;z-index:999}
.modal-box{background:#111;border:2px solid #8b0000;padding:20px;border-radius:16px;width:280px;text-align:center;transition:0.3s transform,0.3s opacity}

.admin-panel{position:fixed;bottom:15px;left:15px;background:#111;border:2px solid #8b0000;padding:14px;border-radius:16px;width:280px;z-index:999;display:none;transition:0.3s transform,0.3s opacity}
.admin-panel h3{text-align:center;color:#ff2e2e;margin-bottom:8px}
.admin-panel input,.admin-panel select{width:100%;margin:5px 0;padding:8px;border-radius:8px;border:none;background:#000;color:#fff}
.admin-panel label{font-size:13px;display:flex;gap:6px;align-items:center}
.small-btn{font-size:12px;padding:6px;margin-top:5px}

#adminLogin{position:fixed;inset:0;background:rgba(0,0,0,.9);display:none;align-items:center;justify-content:center;z-index:1000}
.admin-box{background:#111;padding:25px;border:2px solid #8b0000;border-radius:16px;width:300px;text-align:center}

#reviews{font-size:10px;margin-top:30px;background:#111;padding:10px;border-top:2px solid #8b0000;border-radius:10px}
#reviews h3{color:#ff2e2e;margin-bottom:4px;font-size:12px}
.review-item{border-bottom:1px solid #8b0000;padding:2px 0}
.review-item:last-child{border:none}
#reviews input{padding:4px;font-size:10px;border-radius:6px;border:none;background:#000;color:#fff;margin:2px 2px 0 0}
#reviews button{padding:4px;font-size:10px;border-radius:6px;background:#ff2e2e;color:#fff;border:none;cursor:pointer;margin-top:2px}
#reviews div.flex{display:flex;gap:4px;margin-top:2px}
</style>
</head>
<body>

<div class="top-bar">Rdn Store Oficial ðŸ”¥</div>
<div class="header"><div class="logo" id="logo">Rdn Store</div></div>
<div class="products" id="products"></div>

<!-- POP-UP DE COMPRA -->
<div class="modal" id="buyModal">
  <div class="modal-box">
    <h3 style="color:#ff2e2e" id="buyTitle">Finalizar compra</h3>
    <button class="buy-btn" onclick="finalizar('zap')">WhatsApp</button>
    <button class="buy-btn" onclick="finalizar('ig')">Instagram</button>
    <button class="buy-btn small-btn" onclick="buyModal.style.display='none'">Cancelar</button>
  </div>
</div>

<!-- LOGIN ADMIN -->
<div id="adminLogin">
  <div class="admin-box">
    <h3 style="color:#ff2e2e">ADMIN</h3>
    <input type="password" id="adminPass" placeholder="Senha">
    <button class="buy-btn" onclick="loginAdmin()">Entrar</button>
  </div>
</div>

<!-- PAINEL ADMIN -->
<div class="admin-panel" id="adminPanel">
  <h3>ADMIN</h3>
  <select id="selectProd"></select>
  <input id="nome" placeholder="Nome">
  <input id="preco" type="number" placeholder="PreÃ§o">
  <input id="estoque" type="number" placeholder="Estoque">
  <label><input type="checkbox" id="infinito"> Estoque infinito</label>
  <label><input type="checkbox" id="forcarEsgotado"> ForÃ§ar esgotado (admin)</label>
  <input id="img" type="file">
  <button class="buy-btn" onclick="criar()">Criar</button>
  <button class="buy-btn" onclick="editar()">Salvar</button>
  <button class="buy-btn" onclick="apagar()">Apagar</button>
  <button class="buy-btn small-btn" onclick="sairAdmin()">Sair</button>
</div>

<!-- AVALIAÃ‡Ã•ES -->
<div id="reviews">
  <h3>ComentÃ¡rios dos clientes</h3>
  <div id="reviewsList" style="max-height:150px;overflow-y:auto"></div>
  <div class="flex">
    <input type="text" id="reviewInput" placeholder="Seu nome">
    <input type="text" id="reviewText" placeholder="ComentÃ¡rio">
    <button onclick="addReview()">Enviar</button>
  </div>
</div>

<script>
// CONFIGURAÃ‡Ã•ES
const ADMIN_SENHA="randerson555";
const zap="https://wa.me/5581995367131";
const ig="https://instagram.com/rdn.store.ofc";
let produtos=JSON.parse(localStorage.produtos||"[]");
let produtoAtual=null;

// AVALIAÃ‡Ã•ES FAKE
let reviews=JSON.parse(localStorage.reviews||"[]");
if(reviews.length===0){
  const nomes=["Lucas","Maria","Pedro","Ana","JoÃ£o","Carla","Rafael","Fernanda","Gustavo","Julia","Thiago","Laura","Vitor","Camila","Bruno"];
  const textos=["Excelente loja!","Muito bom!","Super recomendo!","Entrega rÃ¡pida!","Produto de qualidade!","Compra rÃ¡pida e segura!","Vale cada centavo!"];
  nomes.forEach(n=>reviews.push({nome:n,texto:textos[Math.floor(Math.random()*textos.length)]}));
  localStorage.reviews=JSON.stringify(reviews);
}
function renderReviews(){
  reviewsList.innerHTML="";
  reviews.forEach(r=>reviewsList.innerHTML+=`<div class="review-item"><strong>${r.nome}:</strong> ${r.texto}</div>`);
  reviewsList.scrollTop = reviewsList.scrollHeight;
}
function addReview(){
  if(!reviewInput.value||!reviewText.value) return;
  reviews.push({nome:reviewInput.value,texto:reviewText.value});
  localStorage.reviews=JSON.stringify(reviews);
  reviewInput.value=""; reviewText.value="";
  renderReviews();
}
renderReviews();

// RENDERIZAÃ‡ÃƒO PRODUTOS
function salvar(){localStorage.produtos=JSON.stringify(produtos);render();carregarAdmin();}
function render(){
  products.innerHTML="";
  produtos.forEach((p,i)=>{
    const esgotado=p.forcarEsgotado || (!p.infinito && p.estoque<=0);
    products.innerHTML+=`
    <div class="card">
      ${esgotado?'<div class="sold-out">ESGOTADO</div>':''}
      <img src="${p.img}">
      <div class="card-content">
        <div>${p.nome}</div>
        <div class="price">R$${p.preco}</div>
        <div class="stock">${p.infinito?'Infinito':'Estoque: '+p.estoque}</div>
        <button class="buy-btn" ${esgotado?'disabled':''} onclick="abrirCompra(${i})">Comprar</button>
      </div>
    </div>`;
  });
}

// POP-UP COMPRA
function abrirCompra(i){produtoAtual=i;buyTitle.innerText=`${produtos[i].nome} â€” R$${produtos[i].preco}`;buyModal.style.display="flex";}
function finalizar(tipo){
  const p=produtos[produtoAtual];
  if(!p.infinito)p.estoque--;
  salvar();
  const msg=`ðŸ›’ Pedido: ${p.nome} â€” R$${p.preco}`;
  window.open(tipo=="zap"?`${zap}?text=${encodeURIComponent(msg)}`:`${ig}?text=${encodeURIComponent(msg)}`,"_blank");
  buyModal.style.display="none";
}

// ADMIN
let clicks=0;
logo.onclick=()=>{
  if(++clicks==5){
    adminLogin.style.display="flex";clicks=0;
  }
};
function loginAdmin(){
  if(adminPass.value===ADMIN_SENHA){
    adminLogin.style.display="none";
    adminPanel.style.display="block";
    carregarAdmin();
  } else alert("Senha errada!");
}
function sairAdmin(){adminPanel.style.display="none";}
function carregarAdmin(){
  selectProd.innerHTML="";
  produtos.forEach((p,i)=>selectProd.innerHTML+=`<option value="${i}">${p.nome}</option>`);
  if(produtos.length>0) preencherCampos(0);
}
function preencherCampos(i){
  const p=produtos[i];
  nome.value=p.nome;
  preco.value=p.preco;
  estoque.value=p.estoque;
  infinito.checked=p.infinito;
  forcarEsgotado.checked=p.forcarEsgotado;
}
selectProd.onchange=()=>{preencherCampos(selectProd.value);}
function criar(){
  if(!img.files[0]) return alert("Selecione uma imagem");
  const r=new FileReader();
  r.onload=()=>{
    produtos.push({
      nome:nome.value,
      preco:+preco.value,
      estoque:+estoque.value,
      infinito:infinito.checked,
      forcarEsgotado:false,
      img:r.result
    });
    salvar();
  }
  r.readAsDataURL(img.files[0]);
}
function editar(){
  const i=selectProd.value;
  Object.assign(produtos[i],{
    nome:nome.value,
    preco:+preco.value,
    estoque:+estoque.value,
    infinito:infinito.checked,
    forcarEsgotado:forcarEsgotado.checked
  });
  salvar();
}
function apagar(){produtos.splice(selectProd.value,1);salvar();}

render();
</script>
</body>
</html>
